{
    "name": "Customer",
    "type": "object",
    "properties": {
      "studio_id": {
        "type": "string",
        "description": "Studio ID"
      },
      "name": {
        "type": "string",
        "description": "Customer full name"
      },
      "phone_number": {
        "type": "string",
        "description": "Customer phone number"
      },
      "email": {
        "type": "string",
        "description": "Customer email address"
      },
      "send_calendar_invites": {
        "type": "boolean",
        "default": false,
        "description": "Whether to send calendar invites"
      },
      "instagram_username": {
        "type": "string",
        "description": "Customer Instagram handle"
      },
      "preferred_location_id": {
        "type": "string",
        "description": "Preferred studio location ID"
      },
      "consent_obtained": {
        "type": "boolean",
        "default": false,
        "description": "Whether tattoo consent form is on file"
      },
      "email_bounced": {
        "type": "boolean",
        "default": false,
        "description": "Whether the email address bounced"
      },
      "email_bounce_reason": {
        "type": "string",
        "description": "Bounce reason from provider"
      },
      "email_bounced_at": {
        "type": "string",
        "format": "date-time",
        "description": "When the email bounced"
      },
      "email_unsubscribed": {
        "type": "boolean",
        "default": false,
        "description": "Whether the customer unsubscribed"
      },
      "email_unsubscribed_at": {
        "type": "string",
        "format": "date-time",
        "description": "When the customer unsubscribed"
      },
      "is_active": {
        "type": "boolean",
        "default": true,
        "description": "Whether customer is active"
      }
    },
    "required": [
      "studio_id",
      "name",
      "phone_number"
    ],
    "rls": {
      "read": {
        "data.studio_id": "{{user.data.studio_id}}"
      },
      "update": {
        "data.studio_id": "{{user.data.studio_id}}"
      },
      "delete": {
        "data.studio_id": "{{user.data.studio_id}}"
      },
      "write": {
        "data.studio_id": "{{user.data.studio_id}}"
      }
    }
  }